import{L as o,$ as t,a7 as e,G as n,s as a}from"./index-CoyfKnWG.js";const s={"content-type":"application/json","Form-type":"app"};function i(i,r,l,{noAuth:c=!1,noVerify:d=!1}){let p="https://kangrentang.kangyitong.cn",g=s;l||(l={});let u=t("USER_INFO");return u&&u.token&&(g.authorization="Bearer "+u.token),new Promise(((t,s)=>{e({url:p+i,method:r||"GET",header:g,data:l||{},success:e=>{if(401===e.statusCode)return console.log("未授权，请重新登录"),n({title:o.global.t("login.prompt"),icon:"none",duration:1e3}),setTimeout((function(){a({url:"/pages/login/index",animationType:"none"})}),2e3),void s({message:"未授权，请重新登录",data:e.data});console.log(p+i,l,e.data),d&&(console.log(p+i,l,e.data),t(e.data,e)),t(e.data,e)}})}))}console.log(o);const r={};["options","get","post","put","head","delete","trace","connect"].forEach((o=>{r[o]=(t,e,n)=>i(t,o,e,n||{})}));export{r};
