import{h as e,G as a,l as s,o as i,c as t,w as n,m as o,i as r,d as l,e as c,p as d,t as m,F as u,x as p}from"./index-CoyfKnWG.js";import{_ as f}from"./uv-loading-icon.CbeM7PMZ.js";import{o as v,r as _}from"./uni-app.es.Df7zo4VE.js";import{g}from"./medicine.CxMS8Ekc.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./mixin.BCR4gqL3.js";import"./request.BIpDWIEA.js";const w=h({__name:"details",setup(h){const w=e({name:"",description:""}),x=e(!0);return v((e=>{e&&e.id?(async e=>{try{const s={id:Number(e)},i=await g(s);if(0===i.code&&i.data){const e=o(),a="zh-Hans"===e?"Zh":e.charAt(0).toUpperCase()+e.slice(1),s=`name${a}`,t=`description${a}`;w.value={name:i.data[s]||"",description:i.data[t]||"",quantity:i.data.quantity,images:i.data.images},Promise.resolve().then((()=>{x.value=!1}))}else console.error("Failed to fetch news data"),a({title:"Failed to load news",icon:"none"}),x.value=!1}catch(s){console.error("Error fetching news:",s),a({title:"Network error",icon:"none"}),x.value=!1}})(e.id):(x.value=!1,a({title:"Missing news ID",icon:"none"}))})),(e,a)=>{const o=_(s("uv-loading-icon"),f),v=r,g=p;return i(),t(v,{class:"medicine-detail-container"},{default:n((()=>[x.value?(i(),t(v,{key:0,class:"loading-wrapper"},{default:n((()=>[l(o,{show:!0,mode:"spinner",text:"加载中...","text-color":"#999999","text-size":"14"})])),_:1})):w.value.images?(i(),c(u,{key:1},[l(v,{class:"medicine-image-container"},{default:n((()=>[l(g,{class:"medicine-image",src:w.value.images},null,8,["src"])])),_:1}),l(v,{class:"medicine-info"},{default:n((()=>[l(v,{class:"medicine-name"},{default:n((()=>[d(m(w.value.name),1)])),_:1}),l(v,{class:"medicine-quantity"},{default:n((()=>[d("库存："+m(w.value.quantity)+" 件",1)])),_:1}),l(v,{class:"medicine-description"},{default:n((()=>[d(m(w.value.description),1)])),_:1})])),_:1})],64)):(i(),t(v,{key:2,class:"no-content"},{default:n((()=>[d("暂无内容")])),_:1}))])),_:1})}}},[["__scopeId","data-v-c56d145b"]]);export{w as default};
