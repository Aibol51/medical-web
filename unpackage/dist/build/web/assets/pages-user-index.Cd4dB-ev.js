var A,e,t,l,a,s;import{l as i,o as r,c as o,w as c,f as u,e as n,F as d,n as f,a as v,x as p,i as m,d as y,b as g,p as b,t as x,z as S,u as h,h as _,L as k,q as B,r as R,s as D,U as I,G as z}from"./index-CoyfKnWG.js";import{_ as w,a as E,b as G}from"./uv-text.6er5-V5I.js";import{r as H,a as N}from"./uni-app.es.Df7zo4VE.js";import{_ as O}from"./uv-icon.B_OJnulS.js";import{r as j,m as C,a as M}from"./mixin.BCR4gqL3.js";import{_ as U}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as Y}from"./uv-line.DraL9Iaj.js";import{n as Q}from"./navBar.BbnpcVB-.js";import{c as L}from"./user.OcbLy9Nv.js";import{C as F,U as T,L as J}from"./cache.CRrot_FV.js";import"./uv-status-bar.B1Q_bF5K.js";import"./uv-loading-icon.CbeM7PMZ.js";import"./request.BIpDWIEA.js";const X={props:{src:{type:String,default:""},shape:{type:String,default:"circle"},size:{type:[String,Number],default:40},mode:{type:String,default:"scaleToFill"},text:{type:String,default:""},bgColor:{type:String,default:"#c0c4cc"},color:{type:String,default:"#fff"},fontSize:{type:[String,Number],default:18},icon:{type:String,default:""},mpAvatar:{type:Boolean,default:!1},randomBgColor:{type:Boolean,default:!1},defaultUrl:{type:String,default:""},colorIndex:{type:[String,Number],validator:A=>j(A,[0,19])||""===A,default:""},name:{type:String,default:""},...null==(e=null==(A=uni.$uv)?void 0:A.props)?void 0:e.avatar}};const W=U({name:"uv-avatar",emits:["click"],mixins:[C,M,X],data(){return{colors:["#ffb34b","#f2bba9","#f7a196","#f18080","#88a867","#bfbf39","#89c152","#94d554","#f19ec2","#afaae4","#e1b0df","#c38cc1","#72dcdc","#9acdcb","#77b1cc","#448aca","#86cefa","#98d1ee","#73d1f1","#80a7dc"],avatarUrl:this.src,allowMp:!1}},watch:{src:{immediate:!0,handler(A){this.avatarUrl=A,A||this.errorHandler()}}},computed:{imageStyle:()=>({})},created(){this.init()},methods:{init(){},isImg(){return-1!==this.src.indexOf("/")},errorHandler(){this.avatarUrl=this.defaultUrl||"data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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"},clickHandler(){this.$emit("click",this.name)}}},[["render",function(A,e,t,l,a,s){const y=H(i("uv-icon"),O),g=H(i("uv-text"),w),b=p,x=m;return r(),o(x,{class:f(["uv-avatar",[`uv-avatar--${A.shape}`]]),style:v([{backgroundColor:A.text||A.icon?A.randomBgColor?a.colors[""!==A.colorIndex?A.colorIndex:A.$uv.random(0,19)]:A.bgColor:"transparent",width:A.$uv.addUnit(A.size),height:A.$uv.addUnit(A.size)},A.$uv.addStyle(A.customStyle)]),onClick:s.clickHandler},{default:c((()=>[u(A.$slots,"default",{},(()=>[A.mpAvatar&&a.allowMp?(r(),n(d,{key:0},[],64)):A.icon?(r(),o(y,{key:1,name:A.icon,size:A.fontSize,color:A.color},null,8,["name","size","color"])):A.text?(r(),o(g,{key:2,text:A.text,size:A.fontSize,color:A.color,align:"center",customStyle:"justify-content: center"},null,8,["text","size","color"])):(r(),o(b,{key:3,class:f(["uv-avatar__image",[`uv-avatar__image--${A.shape}`]]),src:a.avatarUrl||A.defaultUrl,mode:A.mode,onError:s.errorHandler,style:v([{width:A.$uv.addUnit(A.size),height:A.$uv.addUnit(A.size)}])},null,8,["class","src","mode","onError","style"]))]),!0)])),_:3},8,["class","style","onClick"])}],["__scopeId","data-v-5012def4"]]);const V=U({name:"uv-cell",emits:["click"],mixins:[C,M,{props:{title:{type:[String,Number],default:""},label:{type:[String,Number],default:""},value:{type:[String,Number],default:""},icon:{type:String,default:""},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!0},center:{type:Boolean,default:!0},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"},clickable:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rightIcon:{type:String,default:"arrow-right"},arrowDirection:{type:String,default:""},iconStyle:{type:[Object,String],default:()=>({})},rightIconStyle:{type:[Object,String],default:()=>({})},titleStyle:{type:[Object,String],default:()=>({})},size:{type:String,default:""},stop:{type:Boolean,default:!0},name:{type:[Number,String],default:""},cellStyle:{type:[Object,String],default:()=>{}},...null==(l=null==(t=uni.$uv)?void 0:t.props)?void 0:l.cell}}],computed:{titleTextStyle(){return this.$uv.addStyle(this.titleStyle)}},methods:{clickHandler(A){this.disabled||(this.$emit("click",{name:this.name}),this.openPage(),this.stop&&this.preventEvent(A))}}},[["render",function(A,e,t,l,a,s){const n=H(i("uv-icon"),O),d=m,p=S,h=H(i("uv-line"),Y);return r(),o(d,{class:f(["uv-cell",[A.customClass]]),style:v([A.$uv.addStyle(A.customStyle)]),"hover-class":A.disabled||!A.clickable&&!A.isLink?"":"uv-cell--clickable","hover-stay-time":250,onClick:s.clickHandler},{default:c((()=>[y(d,{class:f(["uv-cell__body",[A.center&&"uv-cell--center","large"===A.size&&"uv-cell__body--large"]]),style:v([A.cellStyle])},{default:c((()=>[y(d,{class:"uv-cell__body__content"},{default:c((()=>[y(d,{class:"uv-cell__left-icon-wrap"},{default:c((()=>[u(A.$slots,"icon",{},(()=>[A.icon?(r(),o(n,{key:0,name:A.icon,"custom-style":A.iconStyle,size:"large"===A.size?22:18},null,8,["name","custom-style","size"])):g("",!0)]),!0)])),_:3}),y(d,{class:"uv-cell__title"},{default:c((()=>[u(A.$slots,"title",{},(()=>[A.title?(r(),o(p,{key:0,class:f(["uv-cell__title-text",[A.disabled&&"uv-cell--disabled","large"===A.size&&"uv-cell__title-text--large"]]),style:v([s.titleTextStyle])},{default:c((()=>[b(x(A.title),1)])),_:1},8,["style","class"])):g("",!0)]),!0),u(A.$slots,"label",{},(()=>[A.label?(r(),o(p,{key:0,class:f(["uv-cell__label",[A.disabled&&"uv-cell--disabled","large"===A.size&&"uv-cell__label--large"]])},{default:c((()=>[b(x(A.label),1)])),_:1},8,["class"])):g("",!0)]),!0)])),_:3})])),_:3}),u(A.$slots,"value",{},(()=>[A.$uv.test.empty(A.value)?g("",!0):(r(),o(p,{key:0,class:f(["uv-cell__value",[A.disabled&&"uv-cell--disabled","large"===A.size&&"uv-cell__value--large"]])},{default:c((()=>[b(x(A.value),1)])),_:1},8,["class"]))]),!0),y(d,{class:f(["uv-cell__right-icon-wrap",[`uv-cell__right-icon-wrap--${A.arrowDirection}`]])},{default:c((()=>[u(A.$slots,"right-icon",{},(()=>[A.isLink?(r(),o(n,{key:0,name:A.rightIcon,"custom-style":A.rightIconStyle,color:A.disabled?"#c8c9cc":"info",size:"large"===A.size?18:16},null,8,["name","custom-style","color","size"])):g("",!0)]),!0)])),_:3},8,["class"])])),_:3},8,["class","style"]),A.border?(r(),o(h,{key:0})):g("",!0)])),_:3},8,["class","style","hover-class","onClick"])}],["__scopeId","data-v-056db8f8"]]);const Z=U({name:"uv-cell-group",mixins:[C,M,{props:{title:{type:String,default:""},border:{type:Boolean,default:!0},...null==(s=null==(a=uni.$uv)?void 0:a.props)?void 0:s.cellGroup}}]},[["render",function(A,e,t,l,a,s){const n=S,d=m,p=H(i("uv-line"),Y);return r(),o(d,{style:v([A.$uv.addStyle(A.customStyle)]),class:f([[A.customClass],"uv-cell-group"])},{default:c((()=>[A.title?(r(),o(d,{key:0,class:"uv-cell-group__title"},{default:c((()=>[u(A.$slots,"title",{},(()=>[y(n,{class:"uv-cell-group__title__text"},{default:c((()=>[b(x(A.title),1)])),_:1})]),!0)])),_:3})):g("",!0),y(d,{class:"uv-cell-group__wrapper"},{default:c((()=>[A.border?(r(),o(p,{key:0})):g("",!0),u(A.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["style","class"])}],["__scopeId","data-v-a1f88253"]]),P=U({__name:"index",setup(A){const{t:e,locale:t}=h(),l=_(""),a=_(""),s=_(""),u=[{title:k.global.t("user.profileSettings"),icon:"setting-fill",isLink:!0,value:"",path:"/pages/setting/index"},{title:k.global.t("user.healthReport"),icon:"file-text",isLink:!0,value:"",path:"/pages/report/index"}],f=A=>{D({url:u[A].path,animationType:"pop-in"})};return N((()=>{if(F.has(T,!1)){const A=F.get(T);l.value=A.nickname,a.value=A.id||"",s.value=A.avatar||""}})),(A,t)=>{const v=H(i("uv-navbar"),E),p=H(i("uv-avatar"),W),h=S,_=m,k=H(i("uv-icon"),O),w=H(i("uv-cell"),V),N=H(i("uv-cell-group"),Z),j=H(i("uv-button"),G);return r(),o(_,{class:"profile-container"},{default:c((()=>[y(v,{title:B(e)("user.profileCenter"),placeholder:!0,leftIcon:"","bg-color":"#EDDED7","title-style":"font-weight: 600; font-size: 36rpx;"},null,8,["title"]),y(_,{class:"user-content"},{default:c((()=>[y(_,{class:"user-card"},{default:c((()=>[y(_,{class:"user-info"},{default:c((()=>[y(p,{src:s.value,size:80,"custom-style":"border: 4rpx solid #fff; box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);"},null,8,["src"]),y(_,{class:"user-details"},{default:c((()=>[y(h,{class:"username"},{default:c((()=>[b(x(l.value||B(e)("user.guest")),1)])),_:1}),a.value?(r(),o(h,{key:0,class:"user-id"},{default:c((()=>[b("ID: "+x(a.value),1)])),_:1})):g("",!0)])),_:1})])),_:1}),y(_,{class:"edit-profile",onClick:t[0]||(t[0]=A=>f(0))},{default:c((()=>[y(k,{name:"edit-pen",size:"32",color:"#8C6E63"})])),_:1})])),_:1}),y(_,{class:"cell-section"},{default:c((()=>[y(N,{"border-style":"custom","custom-style":"border-radius: 16rpx; overflow: hidden; box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);"},{default:c((()=>[(r(),n(d,null,R(u,((A,e)=>y(w,{key:e,icon:A.icon,title:A.title,"title-style":{fontSize:"30rpx",color:"#333"},"icon-style":{color:"#8C6E63"},onClick:A=>f(e),"is-link":A.isLink,value:A.value},null,8,["icon","title","onClick","is-link","value"]))),64))])),_:1})])),_:1}),y(_,{class:"logout-btn"},{default:c((()=>[y(j,{type:"error",text:B(e)("user.logOut"),onClick:t[1]||(t[1]=A=>{I({title:e("user.confirmLogout"),content:e("user.logoutConfirmation"),confirmColor:"#FA5151",success:function(A){A.confirm&&L().then((A=>{0===A.code&&(F.clear(T),F.clear(J),z({title:e("user.logOutSuccess"),icon:"success",duration:2e3}),setTimeout((function(){D({url:"/pages/home/index",animationType:"pop-out"})}),1e3))})).catch((A=>{console.error(A),z({title:e("user.logOutFailed"),icon:"error",duration:2e3})}))}})}),shape:"circle","custom-style":"background: #FA5151; box-shadow: 0 6rpx 10rpx rgba(250, 81, 81, 0.2);"},null,8,["text"])])),_:1})])),_:1}),y(Q,{activeIndex:2})])),_:1})}}},[["__scopeId","data-v-c90b5aff"]]);export{P as default};
