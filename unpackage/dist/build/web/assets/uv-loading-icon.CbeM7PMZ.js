var t,e;import{Q as o,o as r,c as i,w as n,n as l,a,e as s,F as d,r as u,b as c,p as f,t as g,i as p,z as h}from"./index-CoyfKnWG.js";import{m,a as v}from"./mixin.BCR4gqL3.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";function b(t,e=!0){if((t=String(t).toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let o=1;o<4;o+=1)e+=t.slice(o,o+1).concat(t.slice(o,o+1));t=e}const o=[];for(let e=1;e<7;e+=2)o.push(parseInt(`0x${t.slice(e,e+2)}`));return e?`rgb(${o[0]},${o[1]},${o[2]})`:o}if(/^(rgb|RGB)/.test(t)){return t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map((t=>Number(t)))}return t}function S(t){const e=t;if(/^(rgb|RGB)/.test(e)){const t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");let o="#";for(let e=0;e<t.length;e++){let r=Number(t[e]).toString(16);r=1==String(r).length?`0${r}`:r,"0"===r&&(r+=r),o+=r}return 7!==o.length&&(o=e),o}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;{const t=e.replace(/#/,"").split("");if(6===t.length)return e;if(3===t.length){let e="#";for(let o=0;o<t.length;o+=1)e+=t[o]+t[o];return e}}}const $=y({name:"uv-loading-icon",mixins:[m,v,{props:{show:{type:Boolean,default:!0},color:{type:String,default:"#909193"},textColor:{type:String,default:"#909193"},vertical:{type:Boolean,default:!1},mode:{type:String,default:"spinner"},size:{type:[String,Number],default:24},textSize:{type:[String,Number],default:15},textStyle:{type:Object,default:()=>({})},text:{type:[String,Number],default:""},timingFunction:{type:String,default:"linear"},duration:{type:[String,Number],default:1200},inactiveColor:{type:String,default:""},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.loadingIcon}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const t=function(t="rgb(0, 0, 0)",e="rgb(255, 255, 255)",o=10){const r=b(t,!1),i=r[0],n=r[1],l=r[2],a=b(e,!1),s=(a[0]-i)/o,d=(a[1]-n)/o,u=(a[2]-l)/o,c=[];for(let f=0;f<o;f++){let r=S(`rgb(${Math.round(s*f+i)},${Math.round(d*f+n)},${Math.round(u*f+l)})`);0===f&&(r=S(t)),f===o-1&&(r=S(e)),c.push(r)}return c}(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:t:"transparent"}},watch:{show(t){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{}),20)},addEventListenerToWebview(){const t=o(),e=t[t.length-1].$getAppWebview();e.addEventListener("hide",(()=>{this.webviewHide=!0})),e.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(t,e,o,m,v,y){const b=p,S=h;return t.show?(r(),i(b,{key:0,class:l(["uv-loading-icon",[t.vertical&&"uv-loading-icon--vertical"]]),style:a([t.$uv.addStyle(t.customStyle)])},{default:n((()=>[v.webviewHide?c("",!0):(r(),i(b,{key:0,class:l(["uv-loading-icon__spinner",[`uv-loading-icon__spinner--${t.mode}`]]),ref:"ani",style:a({color:t.color,width:t.$uv.addUnit(t.size),height:t.$uv.addUnit(t.size),borderTopColor:t.color,borderBottomColor:y.otherBorderColor,borderLeftColor:y.otherBorderColor,borderRightColor:y.otherBorderColor,"animation-duration":`${t.duration}ms`,"animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""})},{default:n((()=>["spinner"===t.mode?(r(!0),s(d,{key:0},u(v.array12,((t,e)=>(r(),i(b,{key:e,class:"uv-loading-icon__dot"})))),128)):c("",!0)])),_:1},8,["class","style"])),t.text?(r(),i(S,{key:1,class:"uv-loading-icon__text",style:a([{fontSize:t.$uv.addUnit(t.textSize),color:t.textColor},t.$uv.addStyle(t.textStyle)])},{default:n((()=>[f(g(t.text),1)])),_:1},8,["style"])):c("",!0)])),_:1},8,["style","class"])):c("",!0)}],["__scopeId","data-v-3dff3dce"]]);export{$ as _};
