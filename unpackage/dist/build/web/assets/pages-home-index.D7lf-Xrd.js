var e,t;import{o as a,c as s,w as l,n as i,a as n,b as o,d as r,e as u,F as c,r as d,f as h,i as p,g as m,u as g,h as f,j as v,k as _,l as w,m as y,p as k,t as x,q as C,s as b,v as $,x as H,y as U,z as S,S as j,A as W}from"./index-CoyfKnWG.js";import{m as B,a as A}from"./mixin.BCR4gqL3.js";import{_ as z}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{o as T,a as F,r as L}from"./uni-app.es.Df7zo4VE.js";import{_ as N}from"./uni-icons.D0E4Jxnq.js";import{C as I,U as E}from"./cache.CRrot_FV.js";import{n as M}from"./navBar.BbnpcVB-.js";/* empty css                                                                  */import{s as q,n as D}from"./home.CWEEYXWH.js";import"./request.BIpDWIEA.js";const P=z({name:"uv-skeleton",mixins:[B,A,{props:{loading:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},rows:{type:[String,Number],default:0},rowsWidth:{type:[String,Number,Array],default:"100%"},rowsHeight:{type:[String,Number,Array],default:18},rowsLeft:{type:[String,Number,Array],default:0},title:{type:Boolean,default:!0},titleWidth:{type:[String,Number],default:"50%"},titleHeight:{type:[String,Number],default:18},avatar:{type:Boolean,default:!1},avatarSize:{type:[String,Number],default:32},avatarShape:{type:String,default:"circle"},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.skeleton}}],data:()=>({width:0}),watch:{loading(){this.getComponentWidth()}},computed:{rowsArray(){/%$/.test(this.rowsHeight)&&this.$uv.error("rowsHeight参数不支持百分比单位");const e=[];for(let t=0;t<this.rows;t++){let a={},s=this.$uv.test.array(this.rowsWidth)?this.rowsWidth[t]||(t===this.row-1?"70%":"100%"):t===this.rows-1?"70%":this.rowsWidth,l=this.$uv.test.array(this.rowsHeight)?this.rowsHeight[t]||"18px":this.rowsHeight,i=this.$uv.test.array(this.rowsLeft)?this.rowsLeft[t]||0:this.rowsLeft;a.marginTop=this.title||0!==t?this.title&&0===t?"20px":"12px":0,/%$/.test(s)?a.width=this.$uv.addUnit(this.width*parseInt(s)/100):a.width=this.$uv.addUnit(s),a.height=this.$uv.addUnit(l),a.marginLeft=this.$uv.addUnit(i),e.push(a)}return e},uTitleWidth(){let e=0;return e=/%$/.test(this.titleWidth)?this.$uv.addUnit(this.width*parseInt(this.titleWidth)/100):this.$uv.addUnit(this.titleWidth),this.$uv.addUnit(e)}},mounted(){this.init()},methods:{init(){this.getComponentWidth()},async setNvueAnimation(){},async getComponentWidth(){await this.$uv.sleep(20),this.$uvGetRect(".uv-skeleton__wrapper__content").then((e=>{this.width=e.width}))}}},[["render",function(e,t,m,g,f,v){const _=p;return a(),s(_,{class:"uv-skeleton"},{default:l((()=>[e.loading?(a(),s(_,{key:0,class:"uv-skeleton__wrapper",ref:"uv-skeleton__wrapper",style:{display:"flex","flex-direction":"row"}},{default:l((()=>[e.avatar?(a(),s(_,{key:0,class:i(["uv-skeleton__wrapper__avatar",[`uv-skeleton__wrapper__avatar--${e.avatarShape}`,e.animate&&"animate"]]),style:n({height:e.$uv.addUnit(e.avatarSize),width:e.$uv.addUnit(e.avatarSize)})},null,8,["class","style"])):o("",!0),r(_,{class:"uv-skeleton__wrapper__content",ref:"uv-skeleton__wrapper__content",style:{flex:"1"}},{default:l((()=>[e.title?(a(),s(_,{key:0,class:i(["uv-skeleton__wrapper__content__title",[e.animate&&"animate"]]),style:n({width:v.uTitleWidth,height:e.$uv.addUnit(e.titleHeight)})},null,8,["style","class"])):o("",!0),(a(!0),u(c,null,d(v.rowsArray,((t,l)=>(a(),s(_,{class:i(["uv-skeleton__wrapper__content__rows",[e.animate&&"animate"]]),key:l,style:n({width:t.width,height:t.height,marginTop:t.marginTop,marginLeft:t.marginLeft})},null,8,["class","style"])))),128))])),_:1},512)])),_:1},512)):h(e.$slots,"default",{key:1},void 0,!0)])),_:3})}],["__scopeId","data-v-b722f4ef"]]);const Z=z({props:{useThemeColor:{type:Boolean,default:!1}},data:()=>({statusBarHeight:"",themeColor:"#6AE75A"}),created(){this.statusBarHeight=m().statusBarHeight;const e=m().uniPlatform;console.log(e),this.themeColor="mp-weixin"!==e?getComputedStyle(document.documentElement).getPropertyValue("--theme-color")||"#000000":""}},[["render",function(e,t,l,i,o,r){const u=p;return a(),s(u,{class:"statusBar",style:n({height:o.statusBarHeight+"px",backgroundColor:l.useThemeColor?o.themeColor:"#ffffff"})},null,8,["style"])}],["__scopeId","data-v-ba53f697"]]),G=z({__name:"index",setup(e){const{t:t,locale:i}=g(),h=f(!1);v((()=>{}));const m=f(""),B=[t("locale.kk"),t("locale.zh-hans"),t("locale.ru"),t("locale.en")],A=["kk","zh-Hans","ru","en"],z=f(0),G=f(""),R=f([]),V=f(!0),J=f([]),K=f(!0),O=_((()=>[{name:t("home.booking"),path:"/pages/appointment/index",img:"/static/booking.png",link:!1},{name:t("home.medicine"),path:"/pages/medicine/index",img:"/static/pharmacy.png",link:!1},{name:t("home.doctorList"),path:"/pages/expert/index",img:"/static/expert.png",link:!1},{name:t("home.service"),path:"/pages/service/index",img:"/static/service.png",link:!1},{name:t("home.news"),path:"/pages/news/index",img:"/static/news.png",link:!1},{name:t("home.question"),path:"https://wa.me/77008011117",img:"/static/question.png",link:!0}])),Q=e=>{b({url:e,animationType:"none"})},X=()=>{b({url:"/pages/news/index",animationType:"none"})},Y=e=>{const t=e.detail.value;z.value=t,G.value=A[t],$(G.value),i.value=G.value,ee(),te()},ee=()=>{q({page:1,pageSize:50}).then((e=>{if(0===e.code){const t=y(),a="zh-Hans"===t?"Zh":t.charAt(0).toUpperCase()+t.slice(1),s=`banner${a}`;R.value=e.data.data.map((e=>({id:e.id,title:e[`title${a}`],banner:e[s],jumpUrl:e.jumpUrl}))).filter((e=>e.banner)),V.value=!1}})).catch((e=>{console.error(e)}))},te=()=>{D({page:1,pageSize:50}).then((e=>{if(0===e.code){console.log(e.data);const t=y(),a="zh-Hans"===t?"Zh":t.charAt(0).toUpperCase()+t.slice(1);J.value=e.data.data.map((e=>({id:e.id,title:e[`title${a}`],converUrl:e.coverUrl}))),console.log(J.value),K.value=!1}})).catch((e=>{console.error(e)}))};return T((()=>{ee(),te()})),F((()=>{I.has(E,!1)&&(m.value=I.get(E).nickname,console.log(m.value),console.log(I.has(E,!1)))})),(e,i)=>{const g=H,f=p,v=U,_=S,y=L(w("uv-skeleton"),P),$=W,A=j,T=L(w("uni-icons"),N);return a(),s(f,{class:"home-container"},{default:l((()=>[r(Z,{useThemeColor:!0}),r(f,{class:"header-section"},{default:l((()=>[r(f,{class:"top-navbar"},{default:l((()=>[r(f,{class:"language-selector",style:n({alignItems:h.value?"flex-start":""})},{default:l((()=>[r(v,{onChange:Y,value:z.value,range:B},{default:l((()=>[r(f,{class:"language-picker"},{default:l((()=>[r(g,{class:"language-icon",src:"data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%201C13.5013%203.73835%2014.9228%207.29203%2015%2011C14.9228%2014.708%2013.5013%2018.2616%2011%2021M11%201C8.49872%203.73835%207.07725%207.29203%207%2011C7.07725%2014.708%208.49872%2018.2616%2011%2021M11%201C5.47715%201%201%205.47715%201%2011C1%2016.5228%205.47715%2021%2011%2021M11%201C16.5228%201%2021%205.47715%2021%2011C21%2016.5228%2016.5228%2021%2011%2021M1.50002%208H20.5M1.5%2014H20.5'%20stroke='%23E4E4E4'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e"})])),_:1})])),_:1},8,["value"])])),_:1},8,["style"]),r(f,{class:"welcome-container"},{default:l((()=>[r(_,{class:"welcome-text"},{default:l((()=>[k(x(C(t)("home.hello")),1)])),_:1}),C(I).has(C(E),!1)?(a(),s(f,{key:1,class:"user-greeting"},{default:l((()=>[r(_,{class:"user-name"},{default:l((()=>[k(x(m.value),1)])),_:1}),r(_,{class:"wave-emoji"},{default:l((()=>[k("👋")])),_:1})])),_:1})):(a(),s(f,{key:0,class:"auth-buttons",onClick:i[0]||(i[0]=e=>Q("/pages/login/index"))},{default:l((()=>[r(_,{class:"login-text"},{default:l((()=>[k(x(C(t)("login.login"))+" / "+x(C(t)("login.register")),1)])),_:1})])),_:1}))])),_:1})])),_:1}),r(f,{class:"banner-container"},{default:l((()=>[V.value?(a(),s(y,{key:0,loading:!0,animate:!0,class:"skeleton-banner",titleHeight:"330rpx",titleWidth:"100%"})):(a(),s(A,{key:1,class:"banner-swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:3e3,"indicator-color":"rgba(255, 255, 255, 0.6)","indicator-active-color":"#FFFFFF"},{default:l((()=>[(a(!0),u(c,null,d(R.value,((e,t)=>(a(),s($,{key:t},{default:l((()=>[r(f,{class:"swiper-item-container"},{default:l((()=>[r(g,{class:"banner-image",src:e.banner,mode:"aspectFill"},null,8,["src"]),r(f,{class:"banner-overlay"}),e.title?(a(),s(f,{key:0,class:"banner-title"},{default:l((()=>[r(_,null,{default:l((()=>[k(x(e.title),1)])),_:2},1024)])),_:2},1024)):o("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1}),r(f,{class:"features-section"},{default:l((()=>[r(f,{class:"features-container"},{default:l((()=>[(a(!0),u(c,null,d(O.value,((e,t)=>(a(),s(f,{class:"feature-item",key:t,onClick:t=>{return e.link?(a=e.path,void(window.location.href=a)):Q(e.path);var a},style:n({animationDelay:.05*t+"s"})},{default:l((()=>[r(f,{class:"feature-icon-container"},{default:l((()=>[r(g,{class:"feature-icon",src:e.img,mode:"aspectFit"},null,8,["src"])])),_:2},1024),r(_,{class:"feature-name"},{default:l((()=>[k(x(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1})])),_:1}),r(f,{class:"news-section"},{default:l((()=>[r(f,{class:"section-header"},{default:l((()=>[r(_,{class:"section-title"},{default:l((()=>[k(x(C(t)("home.news")),1)])),_:1}),r(f,{class:"section-more",onClick:X},{default:l((()=>[r(_,null,{default:l((()=>[k(x(C(t)("home.viewAll")),1)])),_:1}),r(T,{type:"right",size:"14",color:"#8C6E63"})])),_:1})])),_:1}),K.value?(a(),s(f,{key:0,class:"news-skeleton"},{default:l((()=>[(a(),u(c,null,d(2,(e=>r(f,{key:e,class:"skeleton-news-item"},{default:l((()=>[r(y,{loading:!0,animate:!0,titleHeight:"350rpx",titleWidth:"100%",rows:"0"})])),_:2},1024))),64))])),_:1})):(a(),s(f,{key:1,class:"news-list"},{default:l((()=>[(a(!0),u(c,null,d(J.value,((i,n)=>(a(),s(f,{class:"news-card",key:n,onClick:e=>{return t=i.id,console.log(t),void b({url:"/pages/news/components/details?id="+t,animationType:"none"});var t}},{default:l((()=>[r(g,{class:"news-image",src:i.converUrl,mode:"aspectFill"},null,8,["src"]),r(f,{class:"news-content"},{default:l((()=>[r(_,{class:"news-title"},{default:l((()=>[k(x(i.title),1)])),_:2},1024),i.publishDate||i.viewCount?(a(),s(f,{key:0,class:"news-meta"},{default:l((()=>[i.publishDate?(a(),s(_,{key:0,class:"news-date"},{default:l((()=>[k(x(e.formatDate(i.publishDate)),1)])),_:2},1024)):o("",!0),i.viewCount?(a(),s(_,{key:1,class:"news-views"},{default:l((()=>[k(x(i.viewCount)+" "+x(C(t)("home.views")),1)])),_:2},1024)):o("",!0)])),_:2},1024)):o("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1}),r(M,{activeIndex:0})])),_:1})}}},[["__scopeId","data-v-e55c57b8"]]);export{G as default};
